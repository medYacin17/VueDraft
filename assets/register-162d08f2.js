import{_ as L}from"./AppTextField-26dfdddf.js";import{k as n,o as A,b as M,B as a,p as e,m as i,q as t,Q as U,M as q,Z as F,D as _,C as P,L as h,af as j,t as J,r as O,a5 as $}from"./index-5d9aac78.js";import{u as E}from"./useAppAbility-4372c6fd.js";import{_ as G}from"./AuthProvider-c0b6170c.js";import{u as y}from"./useGenerateImageVariant-cd5a50ae.js";import{a as H}from"./auth-tree-5ec3bc16.js";import{a as Q,b as Z,c as z,d as K}from"./auth-v2-register-illustration-light-bc649424.js";import{m as W,a as X}from"./misc-mask-light-eb104613.js";import{r as V,f as Y,e as ee}from"./validators-50c95554.js";import{b as x}from"./route-block-83d24a4e.js";import{V as k}from"./VImg-ad61e20a.js";import{a as l,V as w}from"./VRow-09f9705f.js";import{V as te,d as S}from"./VCard-af772e5f.js";import{V as ae}from"./VForm-83fdcbd2.js";import{V as se}from"./VCheckbox-7ee4d23a.js";import{V as I}from"./VDivider-d747098e.js";import"./VInput-e9a4f1c5.js";import"./transition-b17afeea.js";import"./VTextField-ecd483ce.js";/* empty css                   */import"./VField-49e7b0d8.js";import"./easing-9f15041e.js";import"./forwardRefs-a29b5f65.js";import"./VCounter-886715a1.js";import"./index-61e4df1a.js";import"./VAvatar-f5d48048.js";import"./VCheckboxBtn-9f05cacf.js";import"./VSelectionControl-4f509e7e.js";const oe={class:"position-relative card-gradient rounded-lg w-100 ma-8 me-0"},re={class:"d-flex align-center justify-center w-100 h-100"},le=i("h5",{class:"text-h5 mb-1"}," Please fill the form below ",-1),ie={class:"d-flex align-center mt-2 mb-4"},ne=i("span",{class:"me-1"},[h(" By signing up, you agree to "),i("a",{href:"javascript:void(0)",class:"text-primary"},"the terms and conditions")],-1),ue=i("span",null,"Have an account?",-1),me=i("span",{class:"mx-4"},"or",-1),de={__name:"register",setup(ce){const b=n(),m=n("test"),d=n("test@weaplan.com"),c=n("test123"),g=n(!0),v=j(),R=J(),C=E(),B=n({email:void 0,password:void 0}),D=()=>{$.post("/auth/register",{username:m.value,email:d.value,password:c.value}).then(o=>{const{accessToken:s,userData:u,userAbilities:f}=o.data;return localStorage.setItem("userAbilities",JSON.stringify(f)),C.update(f),localStorage.setItem("userData",JSON.stringify(u)),localStorage.setItem("accessToken",JSON.stringify(s)),R.replace(v.query.to?String(v.query.to):"/"),null}).catch(o=>{const{errors:s}=o.response.data;B.value=s,console.error(o.response.data)})};y(K,z,Z,Q,!0);const N=y(X,W),p=n(!1),T=()=>{var o;(o=b.value)==null||o.validate().then(({valid:s})=>{s&&D()})};return(o,s)=>{const u=L,f=O("RouterLink");return A(),M(w,{"no-gutters":"",class:"auth-wrapper bg-surface"},{default:a(()=>[e(l,{lg:"8",class:"d-none d-lg-flex"},{default:a(()=>[i("div",oe,[i("div",re,[e(k,{"max-width":"400",src:t(H),class:"auth-illustration mt-16 mb-2"},null,8,["src"])]),e(k,{class:"auth-footer-mask",src:t(N)},null,8,["src"])])]),_:1}),e(l,{cols:"12",lg:"4",class:"d-flex align-center justify-center"},{default:a(()=>[e(te,{flat:"","max-width":500,class:"mt-12 mt-sm-0 pa-4"},{default:a(()=>[e(S,null,{default:a(()=>[e(t(U),{nodes:t(q).app.logo,class:"mb-6"},null,8,["nodes"]),le]),_:1}),e(S,null,{default:a(()=>[e(t(ae),{ref_key:"refVForm",ref:b,onSubmit:F(T,["prevent"])},{default:a(()=>[e(w,null,{default:a(()=>[e(l,{cols:"12"},{default:a(()=>[e(u,{modelValue:t(m),"onUpdate:modelValue":s[0]||(s[0]=r=>_(m)?m.value=r:null),autofocus:"",rules:[t(V),t(Y)],label:"Username"},null,8,["modelValue","rules"])]),_:1}),e(l,{cols:"12"},{default:a(()=>[e(u,{modelValue:t(d),"onUpdate:modelValue":s[1]||(s[1]=r=>_(d)?d.value=r:null),rules:[t(V),t(ee)],label:"Email",type:"email"},null,8,["modelValue","rules"])]),_:1}),e(l,{cols:"12"},{default:a(()=>[e(u,{modelValue:t(c),"onUpdate:modelValue":s[2]||(s[2]=r=>_(c)?c.value=r:null),rules:[t(V)],label:"Password",type:t(p)?"text":"password","append-inner-icon":t(p)?"tabler-eye-off":"tabler-eye","onClick:appendInner":s[3]||(s[3]=r=>p.value=!t(p))},null,8,["modelValue","rules","type","append-inner-icon"]),i("div",ie,[e(se,{id:"privacy-policy",modelValue:t(g),"onUpdate:modelValue":s[4]||(s[4]=r=>_(g)?g.value=r:null),rules:[t(V)],inline:""},{label:a(()=>[ne]),_:1},8,["modelValue","rules"])]),e(P,{block:"",type:"submit"},{default:a(()=>[h(" Sign up ")]),_:1})]),_:1}),e(l,{cols:"12",class:"text-center text-base"},{default:a(()=>[ue,e(f,{class:"text-primary ms-2",to:{name:"login"}},{default:a(()=>[h(" Sign in ")]),_:1})]),_:1}),e(l,{cols:"12",class:"d-flex align-center"},{default:a(()=>[e(I),me,e(I)]),_:1}),e(l,{cols:"12",class:"text-center"},{default:a(()=>[e(G)]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1})]),_:1})]),_:1})}}};typeof x=="function"&&x(de);export{de as default};
