import{o as r,b as l,B as a,p as o,q as t,V as i,L as n,w as c,P as _,c as p,a as k,F as m,t as I,a9 as P,aa as S,ab as h,ac as L}from"./index-5d9aac78.js";import{u as x}from"./useAppAbility-4372c6fd.js";import{V as u}from"./VBadge-ca2fe737.js";import{V as d}from"./VImg-ad61e20a.js";import{V as w}from"./VMenu-b6e1d5f8.js";import{V as A,a as f,b as v,c as C}from"./VList-6a1575ca.js";import{V as B}from"./VListItemAction-e21a8cfb.js";import{V as g}from"./VAvatar-f5d48048.js";import{V as D}from"./VDivider-d747098e.js";import"./transition-b17afeea.js";import"./forwardRefs-a29b5f65.js";import"./VOverlay-f95f502b.js";import"./lazy-e9765c03.js";import"./easing-9f15041e.js";import"./dialog-transition-2d3839ec.js";import"./ssrBoot-a2414214.js";const tt={__name:"UserProfile",setup(N){const b=I(),y=x(),e=JSON.parse(localStorage.getItem("userData")||"null"),V=[{type:"divider"},{type:"navItem",icon:"tabler-user",title:"Profile",to:{name:"apps-user-view-id",params:{id:21}}},{type:"navItem",icon:"tabler-settings",title:"Settings",to:{name:"pages-account-settings-tab",params:{tab:"account"}}},{type:"divider"},{type:"navItem",icon:"tabler-logout",title:"Logout",onClick:()=>{localStorage.removeItem("userData"),localStorage.removeItem("accessToken"),b.push("/login").then(()=>{localStorage.removeItem("userAbilities"),y.update(L)})}}];return(z,F)=>(r(),l(u,{dot:"",bordered:"",location:"bottom right","offset-x":"3","offset-y":"3",color:"success"},{default:a(()=>[o(g,{class:"cursor-pointer",color:t(e)&&t(e).avatar?void 0:"primary",variant:t(e)&&t(e).avatar?void 0:"tonal"},{default:a(()=>[t(e)&&t(e).avatar?(r(),l(d,{key:0,src:t(e).avatar},null,8,["src"])):(r(),l(i,{key:1,icon:"tabler-user"})),o(w,{activator:"parent",width:"230",location:"bottom end",offset:"14px"},{default:a(()=>[o(A,null,{default:a(()=>[o(f,null,{prepend:a(()=>[o(B,{start:""},{default:a(()=>[o(u,{dot:"",location:"bottom right","offset-x":"3","offset-y":"3",color:"success",bordered:""},{default:a(()=>[o(g,{color:t(e)&&t(e).avatar?void 0:"primary",variant:t(e)&&t(e).avatar?void 0:"tonal"},{default:a(()=>[t(e)&&t(e).avatar?(r(),l(d,{key:0,src:t(e).avatar},null,8,["src"])):(r(),l(i,{key:1,icon:"tabler-user"}))]),_:1},8,["color","variant"])]),_:1})]),_:1})]),default:a(()=>[o(v,{class:"font-weight-medium"},{default:a(()=>[n(c(t(e).fullName||t(e).username),1)]),_:1}),o(C,null,{default:a(()=>[n(c(t(e).role),1)]),_:1})]),_:1}),o(t(_),{options:{wheelPropagation:!1}},{default:a(()=>[(r(),p(m,null,k(V,s=>(r(),p(m,{key:s.title},[s.type==="navItem"?(r(),l(f,{key:0,to:"",onClick:R=>s.onClick&&s.onClick()},P({prepend:a(()=>[o(i,{class:"me-2",icon:s.icon,size:"22"},null,8,["icon"])]),default:a(()=>[o(v,null,{default:a(()=>[n(c(s.title),1)]),_:2},1024)]),_:2},[s.badgeProps?{name:"append",fn:a(()=>[o(u,S(h(s.badgeProps)),null,16)]),key:"0"}:void 0]),1032,["onClick"])):(r(),l(D,{key:1,class:"my-2"}))],64))),64))]),_:1})]),_:1})]),_:1})]),_:1},8,["color","variant"])]),_:1}))}};export{tt as default};
